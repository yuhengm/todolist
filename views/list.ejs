<%- include("header") -%> 
    <div class="box" id="heading">
      <h1><%=listTitle%></h1>
      <form id="tableForm" action="/getJson" method="get">
        <select class="selectpicker" data-style="btn-info" name="selectpicker">
          <optgroup label="Select Table">
              <option name="" value="0">Select table</option>
              <option name="table1" value="1">Table 1</option>
              <option name="table2" value="2">Table 2</option>
              <option name="table3" value="3">Table 3</option>
          </optgroup>
        </select>
        <input type="submit" />
      </form>
    </div>

    <div class="box">

        <!-- Interesting way of writing for-loop using EJS -->
        <% for (var item of newListItems) { %>

          <form action="/delete" method="post">
            <div class="item">
              <!-- bind checkbox with item _id for database manipulations. value is accessed by name -->
              <input type="checkbox" name="checkbox" value=<%=item._id %> onchange="this.form.submit()" />
              <p><%= item.name %></p>
            </div>
            <!-- Needed to retrieve title name! -->
            <input type="hidden" name="listName" value="<%= listTitle %>"></input>
          </form>
        <% } %>

      <form class="item" action="/" method="post">
        <input
          type="text"
          name="newItem"
          placeholder="New Item"
          autocomplete="off"
        />
        <button type="submit" name="list" value="<%=listTitle %>" >
          <i class="fa fa-sm fa-plus" aria-hidden="true"></i>
        </button>
      </form>
    </div>

<%- include("footer") -%> 